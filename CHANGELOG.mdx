## 2025-10-17 - Daily Update

---
title: "Internal Changelog"
description: "All internal product updates"
rss: "true"
---

<Update label="Friday, October 17, 2025" description="13 Updates" tags={["Operations", "Analytics", "AI Voice", "Admin", "Resolve"]}>

## üéØ Operations
### ‚è±Ô∏è Smarter Duty Interruption Creation

**What's New**  
When creating a duty interruption (e.g., a driver break), the system now intelligently handles situations where the duty is ending soon. If the full interruption doesn't fit, it will be automatically shortened to the maximum possible duration, and you will receive a notification explaining the change.

**Pre-requisites**
- Requires Administrator access or permissions to manage duties

<AccordionGroup>
<Accordion title="Where You'll See It">
- *Operations > Duties > [Select a Duty] > Breaks tab > 'Add Break' modal*
</Accordion>

<Accordion title="What You Can Do">
- Create a duty interruption near the end of a duty's scheduled time.
- **Before**: An attempt to create an interruption that was too long for the remaining duty time would fail without a clear explanation.
- **Now**: If you try to add a 30-minute break to a duty with only 20 minutes remaining, the system will successfully create a 20-minute break and show a message confirming it was shortened. If no time is available, you will see a specific error message.
</Accordion>

<Accordion title="Why This Matters">
This enhancement prevents confusing failures when scheduling breaks at the end of a shift. By automatically adjusting the break length and providing clear feedback, it creates a more predictable and user-friendly workflow for dispatchers.
</Accordion>
</AccordionGroup>

---
### üêõ Bug Fixes

- **Service Availability in Estimates (BUS-3786)**
  * _Resolution_: Fixed an issue where a service might not appear as an option during trip estimation due to its time-based rules. The system now validates the location first and only checks time rules after a specific trip time has been selected.

---

## üìä Analytics
### üë• Query Group Membership Custom Fields Directly

**What's New**  
Custom fields associated with Group Memberships are now directly available for querying in Analytics. You can now build reports using these fields as dimensions without needing to use the Ridership Report data source.

**Pre-requisites**
- Requires `AnalyticsV2` feature flag

<AccordionGroup>
<Accordion title="Where You'll See It">
- *Analytics > Query Builder* (new dimensions available when using the `Group Memberships` data source).
</Accordion>

<Accordion title="What You Can Do">
- When building a query with the `group_membership` cube, you will now see any custom fields you have configured (e.g., eligibility codes, program IDs) appear as selectable dimensions for filtering and grouping.
</Accordion>

<Accordion title="Why This Matters">
Previously, accessing these custom fields was limited and often required using a pre-defined report. This change makes it much easier to report on any data stored in group membership custom fields, enabling more flexible and powerful analysis.
</Accordion>
</AccordionGroup>

---
### üîó Link Case Data to Administrator Details

**What's New**  
In Analytics, you can now join `Case Data` with `Organization Admin` data. This allows you to include details about the administrator assigned to a case, such as their name, directly in your case-related reports.

**Pre-requisites**
- Requires `AnalyticsV2` feature flag

<AccordionGroup>
<Accordion title="Where You'll See It">
- *Analytics > Query Builder* (when using `Case Data` as a data source).
</Accordion>

<Accordion title="What You Can Do">
- When creating a report on cases, you can now add dimensions from the `Organization Admin` cube, such as `First Name` or `Last Name`, to see which administrator is assigned to each case.
- **Before**: An error ("Can't find join path") would occur when trying to combine these two data sources.
- **Now**: The join works seamlessly, allowing you to filter or group by the admin assigned to a case.
</Accordion>

<Accordion title="Why This Matters">
This enables more detailed reporting on case management activity. You can now analyze case distribution among staff, track workload, and build reports that connect case outcomes to specific administrators.
</Accordion>
</AccordionGroup>

---
### üêõ Bug Fixes

- **Ridership Report Payment Method Name (BUS-4303)**
  * _Resolution_: Correctly displays the payment method name (e.g., "Cash", "Ticket") in the Ridership Report where it was previously missing for certain non-digital payment types.

---

## ü§ñ AI Voice
### üìÖ More Accurate Date of Birth Recognition

**What's New**  
AI Voice is now more precise when understanding dates of birth spoken by riders during authentication. It will now reject ambiguous dates while successfully recognizing a wider variety of clearly stated date formats.

**Pre-requisites**
- No feature flags required

<AccordionGroup>
<Accordion title="Where You'll See It">
- This is an enhancement to the automated rider authentication process when a rider calls in.
</Accordion>

<Accordion title="What You Can Do">
- Riders can authenticate using various date formats with higher accuracy.
- **Example of a rejected date**: AI Voice will now reject an ambiguous spoken date like "one one ninety two," which could mean January 1st or November 1st.
- **Example of accepted dates**: It will correctly understand both "June sixth twenty twenty-five" and "two thousand twenty-five oh six oh one."
</Accordion>

<Accordion title="Why This Matters">
This change reduces authentication errors caused by ambiguous date inputs and improves the overall success rate for riders authenticating via AI Voice, leading to a smoother experience for callers.
</Accordion>
</AccordionGroup>

---

## ‚öôÔ∏è Admin
### üó∫Ô∏è Organization-Level Multimodal Graph Configuration

**What's New**  
A new, streamlined interface is now available for managing multimodal graph configurations directly within an organization's settings. This includes viewing the graph's build status, requesting rebuilds, and managing all associated datasets in one place.

**Pre-requisites**
- Requires Super admin permissions

<AccordionGroup>
<Accordion title="Where You'll See It">
- *Admin > Organizations > [Select an Organization] > Multimodal Configuration tab*.
</Accordion>

<Accordion title="What You Can Do">
- **View Status**: A new `Graph Status` card shows if the graph is built and when it was last updated.
- **Request Rebuild**: Use the new `Request Rebuild` button to trigger a new graph build after updating data.
- **Manage Datasets**: Add, edit, and remove datasets (like GTFS, Flex, or OpenStreetMap) for the selected organization in a dedicated `Datasets` tab. Flex datasets are now automatically linked to the organization's services.
</Accordion>

<Accordion title="Why This Matters">
Previously, managing graph configurations was a complex process spread across different pages. This new, centralized UI simplifies graph management, reduces configuration errors, and provides clear visibility into the status of your multimodal data.
</Accordion>
</AccordionGroup>

---
### ‚úàÔ∏è Cross-Region Data Migration Tool

**What's New**  
A new user interface is now available for migrating data between organizations located in different geographical regions. This tool provides a step-by-step process for selecting source and destination organizations and the specific data to be moved.

**Pre-requisites**
- Requires Super admin permissions

<AccordionGroup>
<Accordion title="Where You'll See It">
- *Admin > Data Migrations* (This new page is dedicated to cross-region migrations).
</Accordion>

<Accordion title="What You Can Do">
- Select a source and destination region from new dropdown menus.
- Choose the source and destination organizations for the migration.
- Select specific data items to migrate (e.g., Services, Zones, Riders, Fare Passes).
- View a detailed results panel showing the success or failure of each item's migration.
</Accordion>

<Accordion title="Why This Matters">
This provides a powerful, self-serve tool for administrators to perform complex cross-region data migrations safely and efficiently, replacing what was previously a manual and error-prone process.
</Accordion>
</AccordionGroup>

---
### üì∏ Secure Photo URLs for Admins and Drivers

**What's New**  
To enhance security, photo URLs for administrators and drivers are now generated as secure, time-limited links, matching the existing protection for rider photos. As part of this change, the `Photo` column has been removed from the main list views.

**Pre-requisites**
- Requires Administrator access

<AccordionGroup>
<Accordion title="Where You'll See It">
- *Admin > People > Drivers* (list view table).
- *Admin > Settings > Organization Members* (list view table).
</Accordion>

<Accordion title="What You Can Do">
- **Before**: A `Photo` column displaying a thumbnail was present in the list views for Drivers and Organization Members.
- **Now**: This column has been removed. Photos remain fully accessible on individual profile pages (e.g., by clicking on a driver's name).
</Accordion>

<Accordion title="Why This Matters">
This change strengthens security and privacy by ensuring that profile photos are not exposed via permanent, public URLs. All photo access now requires authentication, preventing unauthorized viewing or scraping of images.
</Accordion>
</AccordionGroup>

---
### üåç Set a Default Country for Your Organization

**What's New**  
You can now set a default country in your organization's settings. This country's flag and phone code will automatically be selected by default when adding new riders, streamlining data entry.

**Pre-requisites**
- Requires Administrator access

<AccordionGroup>
<Accordion title="Where You'll See It">
- **Configuration**: *Admin > Settings > Organization > General section* (new `Default Country` dropdown).
- **In Use**: *Admin > People > Riders > Add Rider* (the `Phone Number` field).
</Accordion>

<Accordion title="What You Can Do">
- Set your organization's primary country of operation in the settings.
- When you go to add a new rider, the phone number input will automatically show the flag and country code for your selected default country.
</Accordion>

<Accordion title="Why This Matters">
This small enhancement saves time and reduces the chance of errors for organizations that operate primarily in one country. It ensures the correct phone number format is used by default, making the process of adding new riders faster and more consistent.
</Accordion>
</AccordionGroup>

---
### üì¶ Timezone-Aware Exports and Enhanced Filtering

**What's New**  
Data exports (CSV, XLSX) are now fully timezone-aware, ensuring that all timestamps in exported files correctly reflect your organization's configured timezone.

**Pre-requisites**
- Requires Administrator access

<AccordionGroup>
<Accordion title="Where You'll See It">
- Any page with an `Export` button, such as *Operations > Requests*, *People > Riders*, or *Analytics > Query Builder*.
</Accordion>

<Accordion title="What You Can Do">
- Export any dataset that includes date and time fields.
- **Before**: Timestamps in exported files were sometimes in UTC, leading to confusion.
- **Now**: All date and time fields in the exported file will be formatted according to the timezone set for your organization, matching what you see in the Spare platform UI.
</Accordion>

<Accordion title="Why This Matters">
This change ensures consistency and accuracy in all offline reporting and analysis. By aligning exported data with the platform's UI, it eliminates the need for manual time conversions and prevents misinterpretation of time-sensitive data.
</Accordion>
</AccordionGroup>

---
### üêõ Bug Fixes

- **Group Membership Metadata Preservation (ENG-831)**
  * _Resolution_: Corrected an API issue where updating a single metadata field on a group membership via an integration would accidentally erase all other metadata. Now, only the specified field is updated, and existing data is correctly preserved.

---

## üîß Resolve
### üêõ Bug Fixes

- **Address Field Headers in Forms (ENG-708)**
  * _Resolution_: Fixed a bug where "Search for an address" and "Address Details" headers were incorrectly appearing in the table of contents sidebar when viewing forms. The address input field has also been visually updated for better consistency with other search fields on the platform.

</Update>

---

