## 2025-10-17 - Daily Update

---
title: "Internal Changelog"
description: "All internal product updates"
rss: "true"
---

<Update label="Friday, October 17, 2025" description="12 Updates" tags={["Operations", "Analytics", "AI Voice", "Admin", "Resolve"]}>

## üéØ Operations
### ‚è±Ô∏è Smarter Creation of Duty Interruptions

**What's New**  
When you create a duty interruption (e.g., a 30-minute break), the system now checks if the full duration can fit within the duty's remaining time. If not, it will automatically create a shorter interruption if possible, rather than failing completely.

**Pre-requisites**
- Requires Administrator access
- No feature flags required

<AccordionGroup>
<Accordion title="Where You'll See It">
- *Rides > Live Map > [Select Vehicle] > Duty Details > Add Interruption* modal (notifications)
</Accordion>

<Accordion title="What You Can Do">
- If a driver's duty ends in 20 minutes and you try to add a 30-minute break, the system will now automatically schedule a 20-minute break instead. You will receive a specific notification message confirming that the interruption was shortened. If no time is available, you will be notified that it could not be created.
</Accordion>

<Accordion title="Why This Matters">
Previously, attempting to schedule an interruption that was longer than the remaining duty time would simply fail without a clear explanation. This enhancement makes the system more flexible and provides better feedback, saving dispatchers time and reducing confusion.
</Accordion>
</AccordionGroup>

---
### üìä Timezone-Aware Data Exports

**What's New**  
Timestamps in exported CSV and XLSX files now match the timezone selected in your user profile. This ensures that the data in your exported files is consistent with what you see on screen in Spare.

**Pre-requisites**
- Requires Administrator access
- No feature flags required

<AccordionGroup>
<Accordion title="Where You'll See It">
- This change affects all data exports from list views, such as *Rides > All Requests*, *People > Riders*, and *Operations > Duties*.
</Accordion>

<Accordion title="What You Can Do">
- Export a list of requests. Open the CSV file and observe that all timestamps (e.g., `createdAt`, `scheduledAt`) are displayed in your local timezone, not in UTC.
</Accordion>

<Accordion title="Why This Matters">
Previously, all exported timestamps were in UTC, which required manual conversion and could lead to confusion when comparing with the UI. This change ensures data consistency between the platform and exported reports, making analysis simpler and more reliable.
</Accordion>
</AccordionGroup>

---
### üêõ Bug Fixes

- **Improved Service Estimate Zone Validation (BUS-3786)**
  * _Resolution_: Fixed an issue where services might not appear in the service estimate dropdown due to time-of-day restrictions on service zones. The system now validates geographic boundaries first, and only applies time-based rules after a specific trip time has been selected.

---

## üìä Analytics
### üîó Link Case Data to Administrator Details in Analytics

**What's New**  
In Analytics, you can now connect `Case Data` to `Organization Admin` information. This allows you to build reports that include details about the admin assigned to a case, such as their first and last name.

**Pre-requisites**
- Requires the `AnalyticsV2` feature flag

<AccordionGroup>
<Accordion title="Where You'll See It">
- *Analytics > Query Builder*
</Accordion>

<Accordion title="What You Can Do">
- When building a report with `Case Data`, you can now add dimensions or filters from the `Organization Admin` cube (e.g., `Organization Admin > First Name`). For example, you can create a report showing the number of open cases assigned to each administrator.
</Accordion>

<Accordion title="Why This Matters">
Previously, it was not possible to report on case assignee details, limiting insights into agent workload and performance. This enhancement enables more comprehensive reporting on case management by linking cases directly to the admins who own them.
</Accordion>
</AccordionGroup>

---
### üîç Query Group Membership Custom Fields in Analytics

**What's New**  
Custom fields associated with Group Memberships are now directly available as dimensions within the `Group Membership` data cube in Analytics.

**Pre-requisites**
- Requires the `AnalyticsV2` feature flag

<AccordionGroup>
<Accordion title="Where You'll See It">
- *Analytics > Query Builder*
</Accordion>

<Accordion title="What You Can Do">
- If you have a custom field on a group membership (e.g., "Certification Level"), you can now use it directly in your queries. For example, you can build a report that counts riders by their "Certification Level" by using the `Group Membership` cube.
</Accordion>

<Accordion title="Why This Matters">
Before, accessing group membership custom fields was difficult and often required complex joins with other data cubes. This change makes it much easier to build reports based on the unique custom data you track on your group memberships.
</Accordion>
</AccordionGroup>

---
### üêõ Bug Fixes

- **Ridership Report Payment Method Capture (BUS-4303)**
  * _Resolution_: Fixed a bug in the Ridership Report where the payment method name was not being correctly captured for certain payment types, such as cash or tickets.

---

## ü§ñ AI Voice
### üìÖ More Accurate Date of Birth Recognition

**What's New**  
AI Voice now more rigorously validates dates of birth provided by callers during authentication. It is better at understanding various date formats and will now reject ambiguous dates to prevent incorrect authentications.

**Pre-requisites**
- No feature flags required

<AccordionGroup>
<Accordion title="Where You'll See It">
- This is an enhancement to the AI Voice system's interactive voice response (IVR) flow during rider authentication.
</Accordion>

<Accordion title="What You Can Do">
- Callers can state their date of birth in formats like "June 6th 2025" or "2025 06 01", and the system will understand them correctly.
</Accordion>

<Accordion title="Why This Matters">
Previously, AI Voice could misinterpret ambiguous spoken dates, such as "one one ninety two" (which could be January 1st or November 1st). The system now identifies this ambiguity and asks for clarification, improving authentication accuracy and security.
</Accordion>
</AccordionGroup>

---

## ‚öôÔ∏è Admin
### üåç Set a Default Country for Your Organization

**What's New**  
You can now set a default country for your organization. This country's flag and dialing code will automatically appear in phone number fields, such as when creating a new rider, streamlining data entry.

**Pre-requisites**
- Requires Administrator access
- No feature flags required

<AccordionGroup>
<Accordion title="Where You'll See It">
- *Settings > Organization > General* (new 'Default Country' dropdown)
- *People > Riders > Create Rider* ('Phone Number' field)
</Accordion>

<Accordion title="What You Can Do">
- Set a default country (e.g., "United Kingdom") in your organization's settings. When you later add a new rider, the phone number input will default to the UK flag and +44 dialing code.
</Accordion>

<Accordion title="Why This Matters">
Previously, the phone number input defaulted to a fixed country, requiring manual changes for organizations outside that region. This change saves time and reduces errors by pre-filling the correct country code based on your organization's primary location.
</Accordion>
</AccordionGroup>

---
### ‚úàÔ∏è New Cross-Region Data Migration Tool

**What's New**  
A new Data Migration Tool (DMT) is available for super admins, designed specifically to migrate organization data between different geographic regions (e.g., from a US server to an EU server).

**Pre-requisites**
- Requires Super admin permissions
- No feature flags required

<AccordionGroup>
<Accordion title="Where You'll See It">
- *Super Admin > Data Migrations* (new page at `/super-admin/crossRegionDataMigrations`)
</Accordion>

<Accordion title="What You Can Do">
- Select a source and destination region, choose the source and target organizations, and select specific data items (like Riders, Services, Fare Passes) to migrate. The tool provides a detailed results panel showing the success or failure of each item's migration.
</Accordion>

<Accordion title="Why This Matters">
Migrating an organization to a different regional server was a complex, manual process. This tool provides a self-serve interface for super admins to perform these migrations safely and efficiently, with clear feedback on the outcome.
</Accordion>
</AccordionGroup>

---
### üó∫Ô∏è Streamlined Multimodal Graph Configuration

**What's New**  
The interface for configuring multimodal graphs has been completely redesigned and moved into the organization's settings page. It now includes a graph status monitor and a one-click "Request Rebuild" button.

**Pre-requisites**
- Requires Super admin permissions
- No feature flags required

<AccordionGroup>
<Accordion title="Where You'll See It">
- *Super Admin > Organizations > [Select an Organization] > View > Multimodal Graph* (new tab and interface)
</Accordion>

<Accordion title="What You Can Do">
- Assign or create a multimodal graph directly for an organization. View the current build status (e.g., "Up-to-date", "Build in progress") and last build time. Add datasets (GTFS, Flex, etc.) that are automatically filtered to the selected organization. Trigger a new graph build using the 'Request Rebuild' button after updating data.
</Accordion>

<Accordion title="Why This Matters">
The previous graph configuration was spread across multiple pages, making it easy to misconfigure. This new, centralized UI reduces errors by scoping all actions to the selected organization and provides clear visibility into the graph's status, simplifying setup and maintenance.
</Accordion>
</AccordionGroup>

---
### üêõ Bug Fixes

- **Secure Photo URLs for Admins and Drivers (BUS-4398)**
  * _Resolution_: To enhance security, photo URLs for drivers and administrators are now signed and temporary, matching the existing behavior for riders. As part of this change, the 'Photo' column has been removed from the main list views for *Drivers* and *Organization Admins* to prevent exposing unsecured links.

---

## üîß Resolve
### üêõ Bug Fixes

- **Address Field Headers in Form Viewer (ENG-708)**
  * _Resolution_: Fixed an issue where headers from the address input field ("Search for an address" and "Address Details") were incorrectly appearing in the table of contents when viewing a form. The address search input has also been updated for a more consistent look and feel.

</Update>

---

